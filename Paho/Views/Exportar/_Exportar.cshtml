@model Paho.Models.ExportarViewModel
<!-- ko with: app.Views.Exportar -->
<div class="row" style="margin-bottom:15px; margin-top:1em;">

    <div class='input-group'>
        <span class="input-group-addon">
            <!--<b>Generación de reportes</b>-->
            <b>@(((Paho.Controllers.ExportarController)this.ViewContext.Controller).getMsg("msgViewExportarLabelReportsGeneration"))</b>
        </span>
    </div>

</div>
<!--div class="row" style="margin-bottom: 15px; margin-top: 1em;">
    <div class="col-md-5">
        <div class='input-group'>
            <span class="input-group-addon">
                Reporte:
            </span>
            <select id="Report" class="form-control" data-bind="value:Report">
                <option value="Cases">Exportación de registros</option>
                <option value="R1">Número de casos y % hospitalizaciones por IRAG</option>
                <option value="R2">Total fallecidos por IRAG</option>
                @*<option value="R3">Casos por IRAG y Hospitalizaciones totales</option>*@
                <option value="R4">Virus detectados</option>
                @*<option value="Example">Example</option>*@
            </select>
        </div>
    </div>
</div-->

<div class="row" style="margin-bottom: 15px; margin-top: 1em;">
    <div class="col-md-5">
        <div class='input-group'>
            <span class="input-group-addon">
                <!--Reportes:-->
                @(((Paho.Controllers.ExportarController)this.ViewContext.Controller).getMsg("msgViewExportarLabelReports"))
            </span>
            <select id="Reports" class="form-control" data-bind="options: reportsCountries,
                       optionsText: 'Name',
                       optionsValue: 'Id',
                       value: selectedReportCountryId,
                       optionsCaption: '@(((Paho.Controllers.ExportarController)this.ViewContext.Controller).getMsg("msgViewExportarFieldSelect"))',
                       valueUpdate:'change'"></select>
        </div>
    </div>
</div>
@if (Model.DisplayCountries)
{
    <div class="row" style="margin-bottom: 15px; margin-top: 1em;">
        <div class="col-md-5">
            <div class='input-group'>
                <span class="input-group-addon">
                    <!--País:-->
                    @(((Paho.Controllers.ExportarController)this.ViewContext.Controller).getMsg("msgViewExportarLabelCountry"))
                </span>
                <select id="Pais" class="form-control" data-bind="options: activecountries,
                           optionsText: 'Name',
                           optionsValue: 'Id',
                           value: selectedCountryId,
                           optionsCaption: '@(((Paho.Controllers.ExportarController)this.ViewContext.Controller).getMsg("msgViewExportarFieldSelect"))',
                           event:{ change: ReloadInstitutions},"></select>
            </div>
        </div>
    </div>
}
@if (Model.DisplayRegionals)
{
    <!--div id="RegionalsGroup" class='input-group col-md-7' style="margin-top: 7px; display: block; float: left" data-bind="visible: displayFilters">
        <span class="input-group-addon">
            Región:
        </span>
        <select id="Regionals" class="form-control" data-bind="options: regions,
                       optionsText: 'Name',
                       optionsValue: 'Id',
                       value: selectedRegionId,
                       valueUpdate:'change'"></select>
    </div-->
    <div class="row" style="margin-bottom: 15px; margin-top: 1em;">
        <div class="col-md-5">
            <div class='input-group'>
                <span class="input-group-addon">
                    <!--Región:-->
                    @(((Paho.Controllers.ExportarController)this.ViewContext.Controller).getMsg("msgViewExportarLabelRegion"))
                </span>
                <select id="Regions" class="form-control" data-bind="options: regions,
                       optionsText: 'Name',
                       optionsValue: 'Id',
                       value: selectedRegionId,
                       valueUpdate:'change',
                       event:{ change: ReloadInstitutions}"></select>
                @*optionsCaption: '@(((Paho.Controllers.ExportarController)this.ViewContext.Controller).getMsg("msgViewExportarFieldSelect"))',*@
                @*optionsCaption: 'Select...',*@
            </div>
        </div>
    </div>
}
@if (Model.DisplayHospitals)
{
    <div class="row" style="margin-bottom: 15px; margin-top: 1em;">
        <div class="col-md-5">
            <div class='input-group'>
                <span class="input-group-addon">
                    <!--Establecimiento:-->
                    @(((Paho.Controllers.ExportarController)this.ViewContext.Controller).getMsg("msgViewExportarLabelHospital"))
                </span>
                @*<select id="Hospitals" class="form-control" data-bind="options: institutions,
                       optionsText: 'Name',
                       optionsValue: 'Id',
                       value: selectedInstitutionId,
                       optionsCaption: '@(((Paho.Controllers.ExportarController)this.ViewContext.Controller).getMsg("msgViewExportarFieldSelect"))',
                       valueUpdate:'change'"></select>*@

                <select id="Hospitals" class="form-control" data-bind="options: institutions,
                       optionsText: 'Name',
                       optionsValue: 'Id',
                       value: selectedInstitutionId,
                       valueUpdate:'change'"></select>

                @*optionsCaption: 'Select...',*@
            </div>
        </div>
    </div>
}

<div class="row" style="margin-bottom:15px; margin-top:1em;">
    <div class="col-md-3">
        <div class='input-group'>
            <span class="input-group-addon">
                <!--Año:-->
                @(((Paho.Controllers.ExportarController)this.ViewContext.Controller).getMsg("msgViewExportarLabelYear"))
            </span>
            <input id="año" type='text' class="form-control" data-bind="value: Year" />
        </div>
    </div>
    <div class="col-md-3">
        <div class='input-group'>
            <span class="input-group-addon">
                <!--Mes:-->
                @(((Paho.Controllers.ExportarController)this.ViewContext.Controller).getMsg("msgViewExportarLabelMonth"))
            </span>
            <input id="Mes" type='text' class="form-control" data-bind="value: Month" />
        </div>
    </div>
    <div class="col-md-3">
        <div class='input-group'>
            <span class="input-group-addon">
                <!--S.E.:-->
                @(((Paho.Controllers.ExportarController)this.ViewContext.Controller).getMsg("msgViewExportarLabelEW"))
            </span>
            <input id="SE" type='text' class="form-control" data-bind="value: SE" />
        </div>
    </div>
</div>

<div class="row" style="margin-bottom:15px; margin-top:1em;">
    <div class="col-md-3">
        <div class='input-group'>
            <span class="input-group-addon">
                <!--Año desde:-->
                @(((Paho.Controllers.ExportarController)this.ViewContext.Controller).getMsg("msgViewExportarLabelYearFrom"))
            </span>
            <input id="yearfrom" type='text' class="form-control" data-bind="value: YearFrom" />
        </div>
    </div>
    <div class="col-md-3">
        <div class='input-group'>
            <span class="input-group-addon">
                <!--Año hasta:-->
                @(((Paho.Controllers.ExportarController)this.ViewContext.Controller).getMsg("msgViewExportarLabelYearTo"))
            </span>
            <input id="yearto" type='text' class="form-control" data-bind="value: YearTo" />
        </div>
    </div>
</div>

<div class="row" style="margin-bottom:15px; margin-top:1em;">

    <div class="col-md-3">
        <div class='input-group'>
            <span class="input-group-addon">
                <!--Fecha inicio:-->
                @(((Paho.Controllers.ExportarController)this.ViewContext.Controller).getMsg("msgViewExportarLabelStartDate"))
            </span>
            <input id="StartDate" type='text' class="form-control" data-bind="datepicker: StartDate" />
        </div>
    </div>
    <div class="col-md-3">
        <div class='input-group'>
            <span class="input-group-addon">
                <!--Fecha fin:-->
                @(((Paho.Controllers.ExportarController)this.ViewContext.Controller).getMsg("msgViewExportarLabelEndDate"))
            </span>
            <input id="EndDate" type='text' class="form-control" data-bind="datepicker: EndDate" />
        </div>
    </div>
</div>

<!-- Vigilancia -->
<div class="row" style="margin-bottom:15px; margin-top:1em;">
    <div class="col-md-6">
        <div class='input-group'>
            <span class="input-group-addon">
                @*(((Paho.Controllers.ExportarController)this.ViewContext.Controller).getMsg("msgCaselistVigTabContactLabelSurv"))*@
                Inusual
            </span>

            <label class="btn btn-default">
                <input type="radio" name="SurvInusual" id="SurvInusual" value="1" data-bind="checked: SurvInusual"> Si
                @*(((Paho.Controllers.ExportarController)this.ViewContext.Controller).getMsg("msgCaselistVigTabContactLabelSari"))*@
            </label>
            <label class="btn btn-default">
                <input type="radio" name="SurvInusual" id="SurvInusual" value="0" data-bind="checked: SurvInusual"> No
                @*(((Paho.Controllers.ExportarController)this.ViewContext.Controller).getMsg("msgCaselistVigTabContactLabelIli"))*@
            </label>
            <label class="btn btn-default">
                <input type="radio" name="SurvInusual" id="SurvInusual" value="2" data-bind="checked: SurvInusual"> Todos
                @*(((Paho.Controllers.ExportarController)this.ViewContext.Controller).getMsg("msgCaselistVigTabContactLabelIli"))*@
            </label>
        </div>
    </div>
</div>

<div class="row" style="margin-bottom:15px; margin-top:1em;">
    <div class="col-md-3">
        <div class='btn-group input-group'>
            @*<a href="#" target="_blank" title="Generar reporte" class="btn btn-primary" data-bind="attr: { href: url}">Generar</a>*@
            <!--<button id="GenerarReporte" type="button" class="btn btn-primary" data-bind="click: exportar">Generar</button>-->
            <button id="GenerarReporte" type="button" class="btn btn-primary" data-bind="click: exportar">@(((Paho.Controllers.ExportarController)this.ViewContext.Controller).getMsg("msgViewExportarButtonGenerate"))</button>
        </div>
    </div>
</div>

<script type="text/javascript">
    var countries = @Html.Raw(Json.Encode(Model.Countries));
    var regions= @Html.Raw(Json.Encode(Model.Regions));
    var institutions = @Html.Raw(Json.Encode(Model.Institutions));
    var reportsCountries = @Html.Raw(Json.Encode(Model.ReportsCountries));
    var CountryID = @Html.Raw(Model.CountryID);
    var selcty = @ViewBag.UsrCtry;
</script>
<!-- /ko -->
